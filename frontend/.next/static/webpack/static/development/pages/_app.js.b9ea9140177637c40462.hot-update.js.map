{"version":3,"file":"static/webpack/static/development/pages/_app.js.b9ea9140177637c40462.hot-update.js","sources":["webpack:///./lib/withApollo.js"],"sourcesContent":["import withApollo from 'next-with-apollo';\nimport ApolloClient, { InMemoryCache } from 'apollo-boost';\nimport { setContext } from 'apollo-link-context';\nimport { GRAPHQL_URI, PRISMA_TOKEN } from '../config/config';\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem('token');\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${PRISMA_TOKEN}` : ''\n    }\n  };\n});\n\nexport default withApollo(({ ctx, headers, initialState }) =>\n  new ApolloClient({\n    uri: GRAPHQL_URI,\n    cache: new InMemoryCache().restore(initialState || {}),\n    fetchOptions: {\n      authorization: `Bearer ${PRISMA_TOKEN}`\n    }\n  }));\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAFA;AADA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAHA;AADA;;;;A","sourceRoot":""}